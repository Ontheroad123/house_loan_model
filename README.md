研究等额本息的房贷方式是否需要提前还款
具体原理及计算公式参考：https://zhuanlan.zhihu.com/p/670993980?

![公积金提前还款与月供关系](https://github.com/Ontheroad123/house_loan_model/assets/31181026/3aafba75-388c-4f2f-b6c2-2ff9ad052865)

提前还款金额与月供。例如如果提前还款10w，月供就是1949；提前还20w，月供1462。

![年收入与纳税](https://github.com/Ontheroad123/house_loan_model/assets/31181026/aca69ded-a6b0-40dd-8119-bd9479a6fdf7)

年收入与纳税，纵轴左边为纳税金额，右边为因房贷节省的金额。例如税前收入50w，专项除了房贷外无，附加为0，其他为0，有房贷，个税为65904，个税优惠了3600。如果年收入小于72000，个税为0。

![公积金提前还款与总资产关系](https://github.com/Ontheroad123/house_loan_model/assets/31181026/208c3561-c5df-4980-9968-aa9cfdc25658)

假如有50w现金可用于提前还款，提前还款金额与总资产关系。横坐标均为提前还款金额，蓝色纵坐标表示现金复利，红色纵坐标表示公积金账户余额，绿色表示个税节省的30000元，黄色纵坐标表示总资产。有一个逻辑是我之前的误区：现在银行利率2.5%左右，公积金就算降了也是3.1%，看起来比银行利率高很多，我的第一直觉是提前还款更好，实际算出来截然不同。关键点有两个：1、银行复利；2、房贷每个月都在还本金，并不是所有的本金都是按照3.1%的复利滚25年。

![房贷与复利时间的关系](https://github.com/Ontheroad123/house_loan_model/assets/31181026/60e86358-1c7d-4472-b4db-1e7743337899)

提前还款与现金复利关系，左图可以看到，比如房贷是500000，25年后房贷总计还款730974，我只需要394281的现金以0.025的复利25年就够了（当然这里还没有考虑24000的个税优惠）。房贷/现金=0.775798，以这个持平比例作为参考。右图展示500000现金只需要16年复利总额为742253，即可覆盖25年的房贷。

./dist/house_loan_model.exe可直接执行，输入自己的房贷信息后自动计算提前还款多少公积金和房贷抵消；假如不还款，存款多少才与房贷持平。

总结：
1、本研究中公积金收入设为固定的，但是随着时间累计，公积金收入会增加。
2、本研究中复利指现金全部存入银行，25年不使用的情况。
3、关于房贷引起的个税优惠，收入越高房贷带来的个税优惠越高。
本研究仅供了解，不构成任何投资意见。
